<div ng-include="'partials/navbar'"></div>

<div class="jumbotron">
  <h1>Hello<span ng-show="currentUser"> {{ currentUser.name }}</span>, welcome to the Wild Bor World Cup Pool!</h1>
  <p class="lead">
    The wbwcp is software for a small group of people to compare footballing wits by picking World Cup match results. It's not meant for monied betting, of course, which is illegal in my country.</p>

  <p>The wbwcp was written in 2002 and has received nary an improvement since then, except for one bug fix in 2006. Nevertheless, it's somehow managed to run successfully for the 2002, 2006, and 2010 World Cups. Well, it's 2014. The World Cup is upon us again. A lot has changed online, and this is a completely new version, enjoy!</p>
  </p>
  <!-- if logged out -->
  <div class="col-sm-6" ng-hide="currentUser">
    <h2>Log In</h2>
    <form class="form" name="form" ng-submit="login(form)" novalidate>

      <div class="form-group">
        <label>Email</label>
        <input type="text" name="email" class="form-control" ng-model="user.email">
      </div>

      <div class="form-group">
        <label>Password</label>
        <input type="password" name="password" class="form-control" ng-model="user.password">
      </div>

      <div class="form-group has-error">
        <p class="help-block" ng-show="form.email.$error.required && form.password.$error.required && submitted">
           Please enter your email and password.
        </p>              
        <p class="help-block">{{ errors.other }}</p>
      </div>

      <button type="submit" class="btn btn-lg btn-success"> Log in </button>
    </form>
  </div>
  <div class="col-sm-6" ng-hide="currentUser">
    <h2>Sign Up</h2>
    <form class="form" name="form" ng-submit="register(form)" novalidate>

      <div class="form-group" ng-class="{ 'has-success': form.name.$valid && submitted,
                                          'has-error': form.name.$invalid && submitted }">
        <label>Your Name</label>
        <input type="text" name="name" class="form-control" ng-model="user.name"
               required/>
        <p class="help-block" ng-show="form.name.$error.required && submitted">
          A name is required
        </p>
      </div>

      <div class="form-group" ng-class="{ 'has-success': form.teamName.$valid && submitted,
                                          'has-error': form.teamName.$invalid && submitted }">
        <label>Team Name</label>
        <input type="text" name="teamName" class="form-control" ng-model="user.teamName"
               required/>
        <p class="help-block" ng-show="form.teamName.$error.required && submitted">
          A Team Name is required
        </p>
      </div>   

      <div class="form-group" ng-class="{ 'has-success': form.email.$valid && submitted,
                                          'has-error': form.email.$invalid && submitted }">
        <label>Email</label>
        <input type="email" name="email" class="form-control" ng-model="user.email"
               required
               mongoose-error/>
        <p class="help-block" ng-show="form.email.$error.email && submitted">
          Doesn't look like a valid email.
        </p>
        <p class="help-block" ng-show="form.email.$error.required && submitted">
          What's your email address?
        </p>
        <p class="help-block" ng-show="form.email.$error.mongoose">
          {{ errors.email }}
        </p>
      </div>

      <div class="form-group" ng-class="{ 'has-success': form.password.$valid && submitted,
                                          'has-error': form.password.$invalid && submitted }">
        <label>Password</label>
        <input type="password" name="password" class="form-control" ng-model="user.password"
               ng-minlength="3"
               required
               mongoose-error/>
        <p class="help-block"
           ng-show="(form.password.$error.minlength || form.password.$error.required) && submitted">
          Password must be at least 3 characters.
        </p>
        <p class="help-block" ng-show="form.password.$error.mongoose">
          {{ errors.password }}
        </p>
      </div>

      <button class="btn btn-lg btn-primary" type="submit">Sign up</button>
    </form>
  </div>
  <!-- end if logged out -->
</div>

<div class="row marketing">
  <h3>WBWCP News</h3>
  <div ng-repeat="thing in awesomeThings">
      <h4>{{thing.name}}</h4>
      <p>{{thing.info}}</p>
  </div>
</div>

<div class="footer">
  <p>â™¥ from the Yeoman team</p>
</div>
